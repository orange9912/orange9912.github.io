<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="orange's blog" href="http://zyczxq.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="orange's blog" href="http://zyczxq.com/atom.xml"><link rel="alternate" type="application/json" title="orange's blog" href="http://zyczxq.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="http://zyczxq.com/2021/06/22/JavaScript/webpack1/"><title>webpack学习 - 前端 | orange's blog = orange's blog = 橙子的博客</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">webpack学习</h1><div class="meta"><span class="item" title="创建时间：2021-06-22 14:57:41"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-06-22T14:57:41+08:00">2021-06-22</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">orange's blog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://pic1.zhimg.com/v2-3860c6e6300302777076cafe739d22c6_r.jpg?source=1940ef5c"></li><li class="item" data-background-image="https://pic.rmb.bdstatic.com/bjh/gallery/03e17cba710868d9153176b50a5fca0d1090.jpeg"></li><li class="item" data-background-image="https://b0.bdstatic.com/c61fbd7d1ba16ab9a128b5b799fd7bda.jpg@h_1280"></li><li class="item" data-background-image="https://preview.cloud.189.cn/image/imageAction?param=1BD11454D2C42C59904A867880CE5D785C53CEA5D991455D34CDCD2A2ED099D57DA8C591825363034A679C0FF2487ED91BA3CA4DC65BA9CE0C51C4B004BC7729F774996FFA10304F8A5FBCA663FE5B24D686FAA852F87DD7CD48845DC9658DD8F528DAA74F80C0A09BC6AF79E740E3B8A6101114"></li><li class="item" data-background-image="https://pic3.zhimg.com/v2-83cefb82727d7c0983d517f6cf135a76_r.jpg"></li><li class="item" data-background-image="https://i0.hdslb.com/bfs/archive/0f24e5fb095dac32ce2591dcd884bf5b654bbda5.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/JavaScript/" itemprop="item" rel="index" title="分类于 前端"><span itemprop="name">前端</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://zyczxq.com/2021/06/22/JavaScript/webpack1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar1.jpg"><meta itemprop="name" content="orange"><meta itemprop="description" content="橙子的博客, 博客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="orange's blog"></span><div class="body md" itemprop="articleBody"><p>webpack 是我做前端开发时一个非常重要的工具，也是现在前端工程化一个非常重要的工具</p><p>之前使用的时候基本只是知道它大概怎么使用，但并没有深入探究。这次想深入总结一下自己对 webpack 的学习</p><h1 id="webpack是什么"><a class="anchor" href="#webpack是什么">#</a> webpack 是什么？</h1><p>官网上是这么介绍 webpack 的：<strong>本质上，webpack 是一个用于现代 Javascript 应用程序的静态模块打包工具。当 webpack 处理应用程序时，它会在内部构建一个依赖图，这个依赖图对应映射到项目所需的每一个模块，并生成一个或多个 bundle。</strong></p><p><img src="webpack.png" alt="webpack" title="官方图"></p><p>现代前端开发技术不断的增长，为了提高开发效率，新的工具和技术也不断的出现，比如 scss、typescript 等，他们这些都有一个共同点，就是源代码是无法直接执行的，需要特定的工具进行转换才可以执行，而 webpack 正是做了这一件事情。</p><p>简单来说，就是能将项目中的各个不同类型的文件，通过构建、打包将其打包成可执行的 js、css、html 文件和静态资源文件。</p><p>发展到现在，webpack 的功能越来越强大，它的功能有以下这些：</p><ul><li>代码转换：将 Scss 文件编译成 css、将 typescript 文件编译成 JavaScript 等</li><li>文件优化：压缩 JS、CSS、HTML 代码，压缩合并图片</li><li>代码分割：提取多个页面的公共代码，懒加载资源</li><li>模块合并：构建时将模块分类合并成一个文件</li><li>热重载：监听本地代码的变化，自动重新构建、刷新，便于开发。</li><li>自动发布：更新代码后，自动构建出线上发布代码并传输给发布系统。</li></ul><h1 id="webpack核心概念"><a class="anchor" href="#webpack核心概念">#</a> webpack 核心概念</h1><p>要了解 webpack 的工作原理和流程，首先需要了解一些基本的核心概念。</p><p>webpack 虽然不配置也可以使用，但是我们经常需要用配置做一些调整，一般在项目根目录下新建一个 webpack.config.js 来添加配置项。</p><h2 id="入口entry"><a class="anchor" href="#入口entry">#</a> 入口（entry）</h2><p>既然是打包，总得有个打包的起点，<strong>这个起点就称为入口</strong>。入口是 webpack 构建的起点，它会从这个起点中构建一个内部依赖图，找出依赖的所有模块。</p><p>它的默认值是<span class="pink">./src/index.js</span>，但是我们可以在 webpack 配置文件中修改它，比如</p><p><strong>webpack.config.js</strong></p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">'./src/entry.js'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>而且，入口可以不止一个，按照经验，通常在多页应用中，一个 HTML 文档使用一个入口。</p><h2 id="chunk"><a class="anchor" href="#chunk">#</a> chunk</h2><p>chunk 是代码块的意思，一个 chunk 由多个模块组合而成，一般一个入口及这个入口依赖的所有模块对应一个 chunk。</p><h2 id="出口output"><a class="anchor" href="#出口output">#</a> 出口（output）</h2><p>打包肯定是有结果的，就是所谓的出口。output 告诉 webpack 在哪里输出它所创建的 bundle 还有命名规范。</p><p>它的默认值是<span class="pink">./dist/main.js</span>，但是也可以像入口一样进行配置</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token operator">...</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token literal-property property">path</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">'my.bundle.js'</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>如果配置文件中设置了多个入口，那就需要修改 filename 为占位符来对应生成不同名字。</p><h2 id="loader"><a class="anchor" href="#loader">#</a> loader</h2><p>webpack 原本只能理解 JS 文件和 JSON 文件，如果要处理其他类型，就需要用到 loader。</p><p>简单来说，可以把 loader 比喻成一个翻译，它识别特定的文件类型，并将其转换成另外一种类型，供程序使用及添加到依赖图之中。</p><p>像我们刚刚说到的 Scss、typescript 源代码文件在 webpack 中都需要对应的 loader 进行转换。</p><p>在 webpack 的配置中，loader 有两个属性：</p><ul><li>test：识别那些文件需要被转换</li><li>use：那些文件要使用什么 loader 进行转换。</li></ul><p><strong>webpack.config.js</strong></p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token comment">// 其他配置项省略</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="7"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader'</span><span class="token punctuation">,</span><span class="token string">'scss-loader'</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="10"></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>这里就是告诉 webpack：“webpack，你遇到 scss 结尾的文件时使用 scss-loader、css-loader、style-loader 来帮我把它转换”</p><div class="note primary"><p>需要注意的是，use 的属性是一个数组，表示要使用的 loader，而且执行顺序是由后到前。</p></div><p>loader 接收一个文件和配置项作为输入，然后将对应的文件转换后输出。</p><h2 id="plugin"><a class="anchor" href="#plugin">#</a> plugin</h2><p>loader 用于转换文件，而 plugin（插件）有着范围更广的任务，它是用来扩展 webpack 功能的，通过在 webpack 构建流程中注入钩子实现。</p><p>想要使用一个插件，只需要 require 它，然后把它添加到 plugins 数组中，比如这样：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通过 npm 安装</span></pre></td></tr><tr><td data-num="2"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token operator">...</span><span class="token comment">// 其他省略</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">template</span><span class="token operator">:</span><span class="token string">'./src/index.html'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><div class="note primary"><p>HtmlWebpackPlugin 是用于生成 html 文件、并自动在这个文件中引入相关入口 chunk 的 js 文件和抽取出来的 css 文件的插件</p></div><h2 id="compiler对象"><a class="anchor" href="#compiler对象">#</a> compiler 对象</h2><p>它的实例包含了完整的 webpack 配置，全局只有一个 compiler 对象。可以通过这个对象访问 webpack 的内部环境。</p><h2 id="compilation对象"><a class="anchor" href="#compilation对象">#</a> compilation 对象</h2><p>当 webpack 以开发模式运行时，每当监测到文件变化时，就会创建一个新的 compilation 对象。对象包含了构建过程中所有的构建数据。</p><h1 id="webpack编译结果"><a class="anchor" href="#webpack编译结果">#</a> webpack 编译结果</h1><p>不同模块规范下的打包结果有一些细微的差别，但总体大致是一样的。</p><ul><li>webpack 的打包结果就是一个 IIFE（立即调用函数表达式），它接收一个对象 modules 作为参数，这个参数对象的 key 是依赖路径，value 是简单处理后的脚本</li><li>打包结果中定义了一个重要的模块加载函数__webpack_require__</li><li>首先使用模块加载函数__webpack_require__去加载入口模块</li><li>加载函数使用了闭包变量 installedModules，将已加载过的模块存在内存中。</li></ul><h1 id="webpack工作流程"><a class="anchor" href="#webpack工作流程">#</a> webpack 工作流程</h1><h2 id="简单理解版本"><a class="anchor" href="#简单理解版本">#</a> 简单理解版本</h2><p>Webpack 工作时，会<strong>首先读取项目根目录下的 webpack.config.js 来获取配置项</strong>（当然，从 4.0.0 版本开始可以不用该文件配置，使用默认配置），配置项是一个对象，使用 module.export 导出，通常可以指定打包的入口文件（entry）、打包的输出相关（output），如输出文件名、位置等，以及指定文件转换使用的 loader。</p><p>获取配置项后，会对每一个入口进行如下的工作：<strong>从入口的模块开始递归解析该模块依赖的所有模块，每找到一个模块，会根据配置的 loader 进行文件转换（webpack 原本只支持对 js 和 json 的解析，其他文件需要对应的 loader 提供支持），然后这些模块以入口为分组，每个入口及其所有依赖的模块会被分到一个组（chunk），而且每一个入口对应一个依赖图。最后将所有 chunk 转换成文件输出。</strong></p><p>这是一个正常的 webpack 工作流程，除此之外，还可以在 webpack 正常工作流程中使用插件，注入钩子在特定工作流程中对打包结果进行干预。</p><h1 id="总结"><a class="anchor" href="#总结">#</a> 总结</h1><p>Webpack 是当下最流行的前端工程构建工具，它是用于打包一个工程项目静态模块的打包工具，它的出现大大方便了日常开发。</p><p>各种新特性、新语言、新框架的出现，提高了我们的开发效率，如 typescript、sass、babel、vue 等。但是我们开发出来的项目文件最终还是应该打包成一堆 html、css、js 文件，尽管这些新特性的创造者会提供一个工具来进行转换，但是一个个转换我们的开发文件的工作量是巨大的，这个时候 webpack 就开始发挥它的威力了。</p><p>Webpack 的出现极大的简化了转换文件的流程，更好的去开发，现在各种新特性通常都会有可以集成到 webpack 开发的 loader。</p><h1 id="面试题"><a class="anchor" href="#面试题">#</a> 面试题</h1><h2 id="loader和plugin的区别"><a class="anchor" href="#loader和plugin的区别">#</a> loader 和 plugin 的区别？</h2><p>loader 主要是提供了一个文件转换的能力。webpack 原生只支持解析 js 和 json 文件，而 loader 让 webpack 有了加载其他模块的能力。</p><p>plugin 主要是插件，用于扩展 webpack 的功能，比如抽离代码、压缩、配置开发工具等功能。</p><h1 id="1025补充"><a class="anchor" href="#1025补充">#</a> 10.25 补充</h1><p>webpack 构建依赖图的时候，遇到不同的模块就根据 webpack 配置文件中配置的 loader 进行转换。</p><p>plugin 更像一个类，webpack 会先把 plugin 实例化（new 的时候对构造函数传入 options），然后调用 plugin 的 apply 方法（传入 complier）<br>编写 plugin 的时候只需要在 apply 方法中对 webpack 广播出来的各种事件钩子根据需要注册处理函数，如 compiler.hooks.hookname.tap (className,(…) =&gt; {…})</p><h2 id="loader编写要点"><a class="anchor" href="#loader编写要点">#</a> loader 编写要点</h2><p>loader 实质上是一个<strong>函数</strong>，它接收前一个 loader 的返回值作为参数输入（如果是配置的第一个 loader 则就是源文件内容），一般是字符串 or 二进制 buffer，经过一些处理后返回对应的类型。</p><p>简单情况下，就是这样：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token comment">//... 一些操作</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">return</span> content<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>当然实际上我们不止是需要做一些操作，我们经常会看到对一个 loader 进行配置，然后定制化的处理文件。</p><ul><li>所以我们还需要获取开发者配置的 options</li><li>以及对 loader 处理过程中的错误捕获、导出 sourceMap 等信息</li><li>还有些 loader 可能是异步的，比如 less-loader 就是异步的</li></ul><p>对于前两点，可以这样</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> loaderUtils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'loader-utils'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">const</span> options <span class="token operator">=</span> loaderUtils<span class="token punctuation">.</span><span class="token function">getOptions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 获取开发者配置的配置对象</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token comment">//.... 一些工作</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span>content<span class="token punctuation">,</span>sourceMap<span class="token punctuation">,</span>ast<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token comment">// 四个参数分别是：loader 出错时向外抛出的错误，导出的内容，sourceMap，本次编译生成的抽象语法树</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><div class="note primary"><p>获取配置传入的 this 实际指向一个叫 loaderContext 的 loader-runner 特有对象，详情请读 webpack loader 部分的源码</p></div><p>对于异步 loader 的方案，可以使用简单的 async/await，也可以使用 webpack 提供的 this.async。调用 this.async 会返回一个回调，可以在异步操作完成后调用（这样就知道异步 loader 结束了），例如：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> loaderUtils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'loader-utils'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">const</span> options <span class="token operator">=</span> loaderUtils<span class="token punctuation">.</span><span class="token function">getOptions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">resolve</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="plugin编写要点"><a class="anchor" href="#plugin编写要点">#</a> plugin 编写要点</h2><p>在 webpack 构建的生命周期中，webpack 会广播许多事件，我们可以通过监听这些事件，注册事件处理函数去干预编译，改变输出结果。</p><p>简单来说，plugin 更像是一个类（当然你用函数也不是不行，只要给它的原型定义一个以 compiler 对象为参数的 apply 方法即可）</p><p>webpack 会先把插件实例化（传入配置信息），然后调用实例的 apply 方法。一般 apply 方法内是对 webpack 各种事件钩子注册函数，调用 apply 方法时就会将这些钩子注册好。然后在真正 webpack 工作各个阶段的时候，广播各种事件，并调用该事件的所有钩子（自然就会调用某个插件的该事件钩子函数）</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">myPlugin</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> options<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>具体hook的名字<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'myPlugin'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 注册钩子，会在事件触发时执行操作，具体钩子去官网看</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>编写一个带 apply 方法的 class</li><li>插入指定事件钩子</li><li>使用 compilation 修改打包内容</li></ul><h2 id="与其他打包工具的对比"><a class="anchor" href="#与其他打包工具的对比">#</a> 与其他打包工具的对比</h2><h3 id="rollupjs"><a class="anchor" href="#rollupjs">#</a> Rollup.js</h3><p>相比 webpack，Rollup.js 有以下几个特点：</p><ul><li>仅支持 ESNext 模块</li><li>自带 tree shaking 功能</li><li>生成的冗余代码比较少</li></ul><p>有那么一句名言：“建库用 rollup，其他场景用 webpack”，当然这并不是绝对的。</p><p>rollup 和 webpack 不同的地方主要是 rollup 会将模块按照代码顺序引入同一个文件来解决模块依赖问题，所以无法做到拆包（模块已经完全透明了）。</p><h3 id="vite"><a class="anchor" href="#vite">#</a> Vite</h3><p>现在的 Vite 也非常的火，Vite 的火主要也是 webpack 衬托起来的。前面也说道，webpack 在冷启动的时候要遍历整个应用模块冷启动，在 HMR（hot module replacement，模块热更新）的时候也会随着应用的增大而变慢。</p><p>相比之下，Vite 做了几点让 HMR 的速度快了不少。比如将代码分析为源码和依赖，预构建依赖、源码按需提供。</p><p>具体特点就不说了，看官方文档就可以，补充资料：<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/477139054/answer/2156019180">vite 多久后能干掉 webpack？ - 知乎 (zhihu.com)</a></p></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2024-06-01 16:31:58" itemprop="dateModified" datetime="2024-06-01T16:31:58+08:00">2024-06-01</time> </span><span id="2021/06/22/JavaScript/webpack1/" class="item leancloud_visitors" data-flag-title="webpack学习" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="orange 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="orange 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="orange 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>orange <i class="ic i-at"><em>@</em></i>orange's blog</li><li class="link"><strong>本文链接：</strong> <a href="http://zyczxq.com/2021/06/22/JavaScript/webpack1/" title="webpack学习">http://zyczxq.com/2021/06/22/JavaScript/webpack1/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/06/21/JavaScript/crosssite/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;i0.hdslb.com&#x2F;bfs&#x2F;archive&#x2F;0f24e5fb095dac32ce2591dcd884bf5b654bbda5.jpg" title="跨域方法笔记"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 前端</span><h3>跨域方法笔记</h3></a></div><div class="item right"><a href="/2021/06/24/JavaScript/CSSnote2/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;i0.hdslb.com&#x2F;bfs&#x2F;archive&#x2F;0f24e5fb095dac32ce2591dcd884bf5b654bbda5.jpg" title="CSS选择器优先级笔记"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 前端</span><h3>CSS选择器优先级笔记</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.</span> <span class="toc-text">webpack 是什么？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">2.</span> <span class="toc-text">webpack 核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A5%E5%8F%A3entry"><span class="toc-number">2.1.</span> <span class="toc-text">入口（entry）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#chunk"><span class="toc-number">2.2.</span> <span class="toc-text">chunk</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BA%E5%8F%A3output"><span class="toc-number">2.3.</span> <span class="toc-text">出口（output）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#loader"><span class="toc-number">2.4.</span> <span class="toc-text">loader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#plugin"><span class="toc-number">2.5.</span> <span class="toc-text">plugin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#compiler%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.6.</span> <span class="toc-text">compiler 对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#compilation%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.7.</span> <span class="toc-text">compilation 对象</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E7%BC%96%E8%AF%91%E7%BB%93%E6%9E%9C"><span class="toc-number">3.</span> <span class="toc-text">webpack 编译结果</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text">webpack 工作流程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E7%89%88%E6%9C%AC"><span class="toc-number">4.1.</span> <span class="toc-text">简单理解版本</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">5.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">6.</span> <span class="toc-text">面试题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#loader%E5%92%8Cplugin%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">6.1.</span> <span class="toc-text">loader 和 plugin 的区别？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1025%E8%A1%A5%E5%85%85"><span class="toc-number">7.</span> <span class="toc-text">10.25 补充</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#loader%E7%BC%96%E5%86%99%E8%A6%81%E7%82%B9"><span class="toc-number">7.1.</span> <span class="toc-text">loader 编写要点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#plugin%E7%BC%96%E5%86%99%E8%A6%81%E7%82%B9"><span class="toc-number">7.2.</span> <span class="toc-text">plugin 编写要点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E%E5%85%B6%E4%BB%96%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">7.3.</span> <span class="toc-text">与其他打包工具的对比</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rollupjs"><span class="toc-number">7.3.1.</span> <span class="toc-text">Rollup.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vite"><span class="toc-number">7.3.2.</span> <span class="toc-text">Vite</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2021/05/23/JavaScript/JSnote1/" rel="bookmark" title="作用域及作用域链的应用">作用域及作用域链的应用</a></li><li><a href="/2021/05/24/JavaScript/JSnote2/" rel="bookmark" title="JavaScript笔记之二">JavaScript笔记之二</a></li><li><a href="/2021/05/25/JavaScript/JSnote3/" rel="bookmark" title="this关键字的笔记">this关键字的笔记</a></li><li><a href="/2021/05/26/JavaScript/flux/" rel="bookmark" title="flux">flux</a></li><li><a href="/2021/05/30/JavaScript/JSnote4/" rel="bookmark" title="一些封装的工具函数">一些封装的工具函数</a></li><li><a href="/2021/05/31/JavaScript/JSnote5/" rel="bookmark" title="JavaScript异步学习笔记">JavaScript异步学习笔记</a></li><li><a href="/2021/06/04/JavaScript/CSSnote1/" rel="bookmark" title="CSS布局知识笔记1">CSS布局知识笔记1</a></li><li><a href="/2021/06/06/JavaScript/JSnote6/" rel="bookmark" title="JavaScript运行机制笔记">JavaScript运行机制笔记</a></li><li><a href="/2021/06/11/JavaScript/http1/" rel="bookmark" title="前端计网知识总结一">前端计网知识总结一</a></li><li><a href="/2021/06/13/JavaScript/http2/" rel="bookmark" title="浏览器缓存学习笔记">浏览器缓存学习笔记</a></li><li><a href="/2021/06/14/JavaScript/storage/" rel="bookmark" title="前端存储笔记">前端存储笔记</a></li><li><a href="/2021/06/15/JavaScript/webSafe1/" rel="bookmark" title="前端安全笔记一_xss和csrf">前端安全笔记一_xss和csrf</a></li><li><a href="/2021/06/17/JavaScript/module/" rel="bookmark" title="Javascript模块化笔记">Javascript模块化笔记</a></li><li><a href="/2021/06/20/JavaScript/react1/" rel="bookmark" title="react开发笔记1">react开发笔记1</a></li><li><a href="/2021/06/21/JavaScript/crosssite/" rel="bookmark" title="跨域方法笔记">跨域方法笔记</a></li><li class="active"><a href="/2021/06/22/JavaScript/webpack1/" rel="bookmark" title="webpack学习">webpack学习</a></li><li><a href="/2021/06/24/JavaScript/CSSnote2/" rel="bookmark" title="CSS选择器优先级笔记">CSS选择器优先级笔记</a></li><li><a href="/2021/06/26/JavaScript/JSnote8/" rel="bookmark" title="尾调用/递归优化">尾调用/递归优化</a></li><li><a href="/2021/06/27/JavaScript/compare/" rel="bookmark" title="简单的比较vue、react思想">简单的比较vue、react思想</a></li><li><a href="/2021/07/01/JavaScript/reactNote2/" rel="bookmark" title="React笔记2">React笔记2</a></li><li><a href="/2021/07/20/JavaScript/Authorization/" rel="bookmark" title="单页应用鉴权问题">单页应用鉴权问题</a></li><li><a href="/2021/08/04/JavaScript/browser/" rel="bookmark" title="浏览器渲染过程">浏览器渲染过程</a></li><li><a href="/2021/09/01/JavaScript/axios/" rel="bookmark" title="Axios源码解析">Axios源码解析</a></li><li><a href="/2021/09/23/JavaScript/v8-memoryManage/" rel="bookmark" title="V8的垃圾回收机制">V8的垃圾回收机制</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="orange" data-src="/images/avatar1.jpg"><p class="name" itemprop="name">orange</p><div class="description" itemprop="description">博客</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">45</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">9</span> <span class="name">分类</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2021/06/21/JavaScript/crosssite/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2021/06/24/JavaScript/CSSnote2/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/configs/" title="分类于 各种配置">各种配置</a></div><span><a href="/2021/05/20/%E5%90%84%E7%A7%8D%E9%85%8D%E7%BD%AE/report/" title="个人博客配置过程记录">个人博客配置过程记录</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaScript/" title="分类于 前端">前端</a></div><span><a href="/2021/06/14/JavaScript/storage/" title="前端存储笔记">前端存储笔记</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaScript/" title="分类于 前端">前端</a></div><span><a href="/2021/05/30/JavaScript/JSnote4/" title="一些封装的工具函数">一些封装的工具函数</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaScript/" title="分类于 前端">前端</a></div><span><a href="/2021/06/26/JavaScript/JSnote8/" title="尾调用&#x2F;递归优化">尾调用/递归优化</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaScript/" title="分类于 前端">前端</a></div><span><a href="/2021/06/15/JavaScript/webSafe1/" title="前端安全笔记一_xss和csrf">前端安全笔记一_xss和csrf</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaScript/" title="分类于 前端">前端</a></div><span><a href="/2021/06/22/JavaScript/webpack1/" title="webpack学习">webpack学习</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%B2%BE%E7%A5%9E%E7%97%85%E5%AD%A6/" title="分类于 精神病学">精神病学</a></div><span><a href="/2021/09/07/medical/psychiatry/" title="精神病学">精神病学</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaScript/" title="分类于 前端">前端</a></div><span><a href="/2021/07/20/JavaScript/Authorization/" title="单页应用鉴权问题">单页应用鉴权问题</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Node/" title="分类于 Node">Node</a></div><span><a href="/2024/04/16/Node/node-trial/" title="Node实践1">Node实践1</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaScript/" title="分类于 前端">前端</a></div><span><a href="/2021/06/24/JavaScript/CSSnote2/" title="CSS选择器优先级笔记">CSS选择器优先级笔记</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">orange @ orange's blog</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/06/22/JavaScript/webpack1/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>